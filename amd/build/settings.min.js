/**
 * Module for settings page.
 *
 * @module     mod_interactivevideo/settings
 * @copyright  2025 Sokunthearith Makara <sokunthearithmakara@gmail.com>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("mod_interactivevideo/settings",["jquery","core/modal_factory","core/modal_events"],(function($,modalFactory,modalEvents){return{init:function(){$("#ivplugin_checkupdate").off("click").on("click",(async function(e){e.preventDefault();const modal=await modalFactory.create({body:'<div class="spinner"></div>',title:"Available interaction types",show:!1,removeOnClose:!0,isVerticallyCentered:!0});let root=modal.getRoot();root.attr("id","ivplugin_checkupdate_modal");let plugins=$("#ivplugin_updateinfo").val();plugins=JSON.parse(plugins);let installed=$("#ivplugin_installed").val();installed=JSON.parse(installed),plugins=plugins.map((plugin=>(plugin.installed=installed.find((p=>p.component===plugin.component)),plugin))),plugins.sort(((a,b)=>a.title<b.title?-1:a.title>b.title?1:0));let table='<table class="table table-striped table-bordered">';table+="<tbody>",plugins.forEach((plugin=>{table+="<tr>";const row='<td>\n                <p class="iv-font-weight-bold mb-1 d-flex justify-content-between"><span>'.concat(plugin.title,'</span>\n                <span><a href="').concat(plugin.description_url,'" class="iv-mr-2" target="_blank">\n                <i class="fa fa-circle-info"></i></a>\n                <a href="').concat(plugin.download_url,'" class="iv-mr-2" target="_blank">\n                <i class="fa fa-cloud-download"></i></a>\n                </span></p>\n                <p>').concat(plugin.description,'</p>\n                <div class="d-flex justify-content-between">\n                <div class="small iv-font-weight-bold">\n                ').concat(plugin.installed?'<span class="text-success">Installed</span>':"Not installed","\n                </div>\n                <div>").concat("free"==plugin.type?"Free":"Paid","</div>\n                </div>\n                </td>");table+=row,table+="</tr>"})),table+="</tbody></table>",root.find(".modal-body").html(table),modal.show(),root.off(modalEvents.hidden),root.on(modalEvents.hidden,(function(){modal.destroy()}))}))}}}));

//# sourceMappingURL=settings.min.js.map