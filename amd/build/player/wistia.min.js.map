{"version":3,"file":"wistia.min.js","sources":["../../src/player/wistia.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Wistia Player class\n * Doc: https://docs.wistia.com/docs/javascript-player-api\n *\n * @module     mod_interactivevideo/player/wistia\n * @copyright  2024 Sokunthearith Makara <sokunthearithmakara@gmail.com>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\nimport $ from 'jquery';\nimport {dispatchEvent} from 'core/event_dispatcher';\nimport allowAutoplay from 'mod_interactivevideo/player/checkautoplay';\n\nlet player = {};\n\nclass Wistia {\n    /**\n     * Constructs a new Wistia player instance.\n     */\n    constructor() {\n        this.type = 'wistia';\n        this.useAnimationFrame = true;\n        this.frequency = 0.3;\n        this.support = {\n            playbackrate: true,\n            quality: true,\n            password: true,\n        };\n    }\n\n    async getInfo(url, node) {\n        this.node = node;\n        return new Promise((resolve) => {\n            const regex = /(?:https?:\\/\\/)?(?:www\\.)?(?:wistia\\.com)\\/medias\\/([^/]+)/g;\n            const match = regex.exec(url);\n            const videoId = match[1];\n            this.videoId = videoId;\n            $(`#${node}`).html(`<div class=\"wistia_embed wistia_async_${videoId} wmode=transparent\n             controlsVisibleOnLoad=true playButton=true videoFoam=false silentAutoPlay=allow playsinline=true\n              fullscreenButton=false\n               fitStrategy=contain\" style=\"height:100%;width:100%\"></div>`);\n            let self = this;\n            $.get('https://fast.wistia.com/oembed.json?url=' + url)\n                .then(function(data) {\n                    self.posterImage = data.thumbnail_url;\n                    self.title = data.title;\n                    return self.posterImage;\n                }).catch(() => {\n                    return;\n                });\n            const wistiaOptions = {\n                id: videoId,\n                onReady: async function(video) {\n                    player[node] = video;\n                    resolve({\n                        duration: video.duration(),\n                        title: self.title,\n                        posterImage: self.posterImage,\n                    });\n                }\n            };\n\n            if (!window._wq) {\n                // Add wistia script\n                var tag = document.createElement('script');\n                tag.src = \"https://fast.wistia.com/assets/external/E-v1.js\";\n                tag.async = true;\n                tag.as = \"script\";\n                tag.rel = \"preload\";\n                var firstScriptTag = document.getElementsByTagName('script')[0];\n                firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n                var interval = setInterval(() => {\n                    if (window._wq) {\n                        clearInterval(interval);\n                        window._wq.push(wistiaOptions);\n                    }\n                }, 1000);\n            } else {\n                window._wq.push(wistiaOptions);\n            }\n        });\n    }\n\n    async load(url, start, end, opts = {}) {\n        const showControls = opts.showControls || false;\n        const node = opts.node || 'player';\n        this.node = node;\n        this.allowAutoplay = await allowAutoplay(document.getElementById(node));\n        if (!this.allowAutoplay) {\n            dispatchEvent('iv:autoplayBlocked');\n        }\n        this.start = start;\n        if (opts.passwordprotected) {\n            $('#start-screen, .video-block, #video-block').remove();\n        }\n        if (!showControls) {\n            $('body').addClass('no-original-controls');\n        }\n        // Wistia does not load the video if the player is not visible, so we need to make sure the node parent is visible.\n        $(`#${node}`).parent().removeClass('d-none');\n        const regex = /(?:https?:\\/\\/)?(?:www\\.)?(?:wistia\\.com)\\/medias\\/([^/]+)/g;\n        const match = regex.exec(url);\n        const videoId = match[1];\n        this.videoId = videoId;\n        $(`#${node}`).html(`<div class=\"wistia_embed wistia_async_${videoId} wmode=transparent\n             controlsVisibleOnLoad=true playButton=true videoFoam=false silentAutoPlay=allow playsinline=true\n              fullscreenButton=false ${this.allowAutoplay ? `time=${start}` : ``}\n               fitStrategy=contain\" style=\"height:100%;width:100%\"></div>`);\n        let self = this;\n        if (opts.editform) {\n            $.get('https://fast.wistia.com/oembed.json?url=' + url)\n                .then(function(data) {\n                    self.posterImage = data.thumbnail_url;\n                    self.title = data.title;\n                    return self.posterImage;\n                }).catch(() => {\n                    return;\n                });\n        }\n        let ready = false;\n        const wistiaOptions = {\n            id: videoId,\n            options: {\n                plugin: {\n                    chapters: {\n                        on: false\n                    },\n                    \"postRoll-v1\": {\n                        on: false\n                    }\n                }\n            },\n            onReady: async function(video) {\n                $('#annotation-canvas').removeClass('d-none w-0');\n                player[node] = video;\n                self.aspectratio = self.ratio();\n                // We don't want to use the end time from the player, just to avoid any issue restarting the video.\n                let totaltime = video.duration() - self.frequency;\n                end = !end ? totaltime : Math.min(end, totaltime);\n                end = Number(end.toFixed(2));\n                self.end = end;\n                self.totaltime = Number(totaltime.toFixed(2));\n                self.duration = self.end - self.start;\n\n                const eventListeners = () => {\n                    video.unmute();\n                    video.on(\"pause\", () => {\n                        self.paused = true;\n                        if ($(document).find('.w-password-protected').length > 0) {\n                            return;\n                        }\n                        if (video.time() >= end) {\n                            self.ended = true;\n                            dispatchEvent('iv:playerEnded');\n                        } else {\n                            dispatchEvent('iv:playerPaused');\n                        }\n                    });\n\n                    video.on(\"seek\", (e) => {\n                        if ($(document).find('.w-password-protected').length > 0) {\n                            return;\n                        }\n                        dispatchEvent('iv:playerSeek', {time: e});\n                    });\n\n                    video.bind('play', async() => {\n                        if (video.time() >= end) {\n                            await video.time(start);\n                        }\n                        self.paused = false;\n                        dispatchEvent('iv:playerPlay');\n                        dispatchEvent('iv:playerPlaying');\n                    });\n\n                    video.on('timechange', (s) => {\n                        self.paused = false;\n                        if (s < start) {\n                            video.time(start);\n                        }\n                        if (s >= end + self.frequency) {\n                            video.time(end - self.frequency);\n                        }\n                        if (s >= end) {\n                            self.ended = true;\n                            dispatchEvent('iv:playerEnded');\n                        }\n                    });\n\n                    video.on(\"error\", (e) => {\n                        dispatchEvent('iv:playerError', {error: e});\n                    });\n\n                    video.on(\"playbackratechange\", (e) => {\n                        dispatchEvent('iv:playerRateChange', {rate: e});\n                    });\n\n                    video.on(\"volumechange\", (e) => {\n                        dispatchEvent('iv:playerVolumeChange', {volume: e});\n                    });\n                };\n\n                video.mute();\n                video.play();\n                await video.time(start);\n                await video.pause();\n                if ($(document).find('.w-password-protected').length > 0) {\n                    video.play();\n                } else {\n                    if (!ready) {\n                        ready = true;\n                        dispatchEvent('iv:playerReady', null, document.getElementById(node));\n                        eventListeners();\n                    }\n                }\n            },\n            onError: function(e) {\n                dispatchEvent('iv:playerError', {error: e});\n            }\n        };\n\n        if (!window._wq) {\n            // Add wistia script\n            var tag = document.createElement('script');\n            tag.src = \"https://fast.wistia.com/assets/external/E-v1.js\";\n            tag.async = true;\n            tag.as = \"script\";\n            tag.rel = \"preload\";\n            var firstScriptTag = document.getElementsByTagName('script')[0];\n            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n            var interval = setInterval(() => {\n                if (window._wq) {\n                    clearInterval(interval);\n                    window._wq.push(wistiaOptions);\n                }\n            }, 1000);\n        } else {\n            window._wq.push(wistiaOptions);\n        }\n    }\n    /**\n     * Plays the Wistia video player.\n     *\n     * This method triggers the play action on the Wistia player instance.\n     */\n    play() {\n        if (!player[this.node]) {\n            return;\n        }\n        player[this.node].play();\n        this.paused = false;\n    }\n    /**\n     * Pauses the Wistia video player.\n     *\n     * This method calls the `pause` function on the Wistia player instance,\n     * effectively pausing the video playback.\n     */\n    async pause() {\n        if (!player[this.node]) {\n            return;\n        }\n        await player[this.node].pause();\n        this.paused = true;\n    }\n    /**\n     * Stops the video playback and sets the playback time to the specified start time.\n     *\n     * @param {number} starttime - The time (in seconds) to set the video playback to after pausing.\n     */\n    stop(starttime) {\n        if (!player[this.node]) {\n            return;\n        }\n        player[this.node].pause();\n        player[this.node].time(starttime);\n    }\n    /**\n     * Seeks the video player to a specified time.\n     *\n     * @param {number} time - The time in seconds to seek to.\n     * @returns {number} The time that was sought to.\n     */\n    seek(time) {\n        if (!player[this.node]) {\n            return time;\n        }\n        player[this.node].time(time);\n        this.ended = false;\n        dispatchEvent('iv:playerSeek', {time: time});\n        return time;\n    }\n    /**\n     * Retrieves the current playback time of the video player.\n     *\n     * @returns {number} The current time of the video in seconds.\n     */\n    getCurrentTime() {\n        if (!player[this.node]) {\n            return 0;\n        }\n        return player[this.node].time();\n    }\n    /**\n     * Retrieves the duration of the video.\n     *\n     * @returns {number} The duration of the video in seconds.\n     */\n    getDuration() {\n        if (!player[this.node]) {\n            return 0;\n        }\n        return player[this.node].duration();\n    }\n    /**\n     * Checks if the video player is currently paused.\n     *\n     * @returns {boolean} True if the player is paused, false otherwise.\n     */\n    isPaused() {\n        if (!player[this.node]) {\n            return true;\n        }\n        if (this.paused) {\n            return true;\n        }\n        return player[this.node].state() === 'paused';\n    }\n    /**\n     * Checks if the video player is currently playing.\n     *\n     * @returns {boolean} True if the player is in the 'playing' state, otherwise false.\n     */\n    isPlaying() {\n        if (!player[this.node]) {\n            return false;\n        }\n        if (this.paused) {\n            return false;\n        }\n        return player[this.node].state() === 'playing';\n    }\n    /**\n     * Checks if the video player has reached the end of the video.\n     *\n     * @returns {boolean} True if the video has ended, otherwise false.\n     */\n    isEnded() {\n        if (!player[this.node]) {\n            return false;\n        }\n        return this.ended;\n    }\n    /**\n     * Calculates the aspect ratio for the video player.\n     * If the player's aspect ratio is greater than 16:9, it returns the player's aspect ratio.\n     * Otherwise, it returns the default aspect ratio of 16:9.\n     *\n     * @returns {number} The aspect ratio of the video player.\n     */\n    ratio() {\n        if (!player[this.node]) {\n            return 16 / 9;\n        }\n        return player[this.node].aspect();\n    }\n\n    /**\n     * Destroys the Wistia player instance by removing it from the DOM.\n     */\n    destroy() {\n        if (!player[this.node]) {\n            return;\n        }\n        player[this.node].remove();\n        player[this.node] = null;\n        dispatchEvent('iv:playerDestroyed');\n    }\n    /**\n     * Retrieves the current state of the player.\n     *\n     * @returns {Object} The current state of the player.\n     */\n    getState() {\n        if (!player[this.node]) {\n            return 'paused';\n        }\n        return player[this.node].state();\n    }\n    /**\n     * Sets the playback rate of the video player.\n     *\n     * @param {number} rate - The desired playback rate.\n     */\n    setRate(rate) {\n        if (!player[this.node]) {\n            return;\n        }\n        player[this.node].playbackRate(rate);\n    }\n    /**\n     * Mutes the Wistia player.\n     */\n    mute() {\n        if (!player[this.node]) {\n            return;\n        }\n        player[this.node].mute();\n    }\n    /**\n     * Unmutes the video player.\n     */\n    unMute() {\n        if (!player[this.node]) {\n            return;\n        }\n        player[this.node].unmute();\n        player[this.node].volume(1);\n    }\n\n    isMuted() {\n        if (!player[this.node]) {\n            return false;\n        }\n        return player[this.node].isMuted();\n    }\n    /**\n     * Returns the original Wistia player instance.\n     *\n     * @returns {Object} The Wistia player instance.\n     */\n    originalPlayer() {\n        return player[this.node];\n    }\n    /**\n     * Sets the video quality for the player and dispatches a quality change event.\n     *\n     * @param {string} quality - The desired video quality to set.\n     * @returns {string} The quality that was set.\n     */\n    setQuality(quality) {\n        if (!player[this.node]) {\n            return 0;\n        }\n        player[this.node].videoQuality(quality);\n        dispatchEvent('iv:playerQualityChange', {quality: quality});\n        return quality;\n    }\n    /**\n     * Retrieves the available video qualities and the current quality setting.\n     *\n     * @returns {Object} An object containing:\n     * - `qualities` {Array<string>}: List of available video quality options.\n     * - `qualitiesLabel` {Array<string>}: List of labels corresponding to the video quality options.\n     * - `currentQuality` {string|number}: The current video quality setting.\n     */\n    getQualities() {\n        if (!player[this.node]) {\n            return null;\n        }\n        return {\n            qualities: ['auto', '360', '540', '720', '1080', '2160'],\n            qualitiesLabel: ['Auto', '360p', '540p', '720p', '1080p', '4k'],\n            currentQuality: player[this.node].videoQuality() == 'auto' ? 0 : player[this.node].videoQuality(),\n        };\n    }\n\n    /**\n     * Sets the caption track for the video player.\n     * @param {string} track - The caption track to set.\n     */\n    setCaption(track) {\n        if (!player[this.node]) {\n            return null;\n        }\n        return track;\n    }\n}\n\nexport default Wistia;"],"names":["player","constructor","type","useAnimationFrame","frequency","support","playbackrate","quality","password","url","node","Promise","resolve","videoId","exec","html","self","this","get","then","data","posterImage","thumbnail_url","title","catch","wistiaOptions","id","onReady","async","video","duration","window","_wq","push","tag","document","createElement","src","as","rel","firstScriptTag","getElementsByTagName","parentNode","insertBefore","interval","setInterval","clearInterval","start","end","opts","showControls","allowAutoplay","getElementById","passwordprotected","remove","addClass","parent","removeClass","editform","ready","options","plugin","chapters","on","aspectratio","ratio","totaltime","Math","min","Number","toFixed","mute","play","time","pause","find","length","unmute","paused","ended","e","bind","s","error","rate","volume","onError","stop","starttime","seek","getCurrentTime","getDuration","isPaused","state","isPlaying","isEnded","aspect","destroy","getState","setRate","playbackRate","unMute","isMuted","originalPlayer","setQuality","videoQuality","getQualities","qualities","qualitiesLabel","currentQuality","setCaption","track"],"mappings":";;;;;;;;uLA2BIA,OAAS,sBAMTC,mBACSC,KAAO,cACPC,mBAAoB,OACpBC,UAAY,QACZC,QAAU,CACXC,cAAc,EACdC,SAAS,EACTC,UAAU,iBAIJC,IAAKC,kBACVA,KAAOA,KACL,IAAIC,SAASC,gBAGVC,QAFQ,8DACMC,KAAKL,KACH,QACjBI,QAAUA,uCACTH,OAAQK,qDAA8CF,mQAIxDG,KAAOC,qBACTC,IAAI,2CAA6CT,KAC9CU,MAAK,SAASC,aACXJ,KAAKK,YAAcD,KAAKE,cACxBN,KAAKO,MAAQH,KAAKG,MACXP,KAAKK,eACbG,OAAM,eAGPC,cAAgB,CAClBC,GAAIb,QACJc,QAASC,eAAeC,OACpB7B,OAAOU,MAAQmB,MACfjB,QAAQ,CACJkB,SAAUD,MAAMC,WAChBP,MAAOP,KAAKO,MACZF,YAAaL,KAAKK,mBAKzBU,OAAOC,IAgBRD,OAAOC,IAAIC,KAAKR,mBAhBH,KAETS,IAAMC,SAASC,cAAc,UACjCF,IAAIG,IAAM,kDACVH,IAAIN,OAAQ,EACZM,IAAII,GAAK,SACTJ,IAAIK,IAAM,cACNC,eAAiBL,SAASM,qBAAqB,UAAU,GAC7DD,eAAeE,WAAWC,aAAaT,IAAKM,oBACxCI,SAAWC,aAAY,KACnBd,OAAOC,MACPc,cAAcF,UACdb,OAAOC,IAAIC,KAAKR,kBAErB,oBAOJhB,IAAKsC,MAAOC,SAAKC,4DAAO,SACzBC,aAAeD,KAAKC,eAAgB,EACpCxC,KAAOuC,KAAKvC,MAAQ,cACrBA,KAAOA,UACPyC,oBAAsB,0BAAchB,SAASiB,eAAe1C,OAC5DO,KAAKkC,mDACQ,2BAEbJ,MAAQA,MACTE,KAAKI,uCACH,6CAA6CC,SAE9CJ,kCACC,QAAQK,SAAS,uDAGjB7C,OAAQ8C,SAASC,YAAY,gBAG7B5C,QAFQ,8DACMC,KAAKL,KACH,QACjBI,QAAUA,uCACTH,OAAQK,qDAA8CF,2LAE7BI,KAAKkC,6BAAwBJ,8FAExD/B,KAAOC,KACPgC,KAAKS,0BACHxC,IAAI,2CAA6CT,KAC9CU,MAAK,SAASC,aACXJ,KAAKK,YAAcD,KAAKE,cACxBN,KAAKO,MAAQH,KAAKG,MACXP,KAAKK,eACbG,OAAM,aAIbmC,OAAQ,QACNlC,cAAgB,CAClBC,GAAIb,QACJ+C,QAAS,CACLC,OAAQ,CACJC,SAAU,CACNC,IAAI,iBAEO,CACXA,IAAI,KAIhBpC,QAASC,eAAeC,2BAClB,sBAAsB4B,YAAY,cACpCzD,OAAOU,MAAQmB,MACfb,KAAKgD,YAAchD,KAAKiD,YAEpBC,UAAYrC,MAAMC,WAAad,KAAKZ,UACxC4C,IAAOA,IAAkBmB,KAAKC,IAAIpB,IAAKkB,WAA1BA,UACblB,IAAMqB,OAAOrB,IAAIsB,QAAQ,IACzBtD,KAAKgC,IAAMA,IACXhC,KAAKkD,UAAYG,OAAOH,UAAUI,QAAQ,IAC1CtD,KAAKc,SAAWd,KAAKgC,IAAMhC,KAAK+B,MA4DhClB,MAAM0C,OACN1C,MAAM2C,aACA3C,MAAM4C,KAAK1B,aACXlB,MAAM6C,SACR,mBAAEvC,UAAUwC,KAAK,yBAAyBC,OAAS,EACnD/C,MAAM2C,OAEDb,QACDA,OAAQ,sCACM,iBAAkB,KAAMxB,SAASiB,eAAe1C,OAlElEmB,MAAMgD,SACNhD,MAAMkC,GAAG,SAAS,KACd/C,KAAK8D,QAAS,GACV,mBAAE3C,UAAUwC,KAAK,yBAAyBC,OAAS,IAGnD/C,MAAM4C,QAAUzB,KAChBhC,KAAK+D,OAAQ,sCACC,uDAEA,uBAItBlD,MAAMkC,GAAG,QAASiB,KACV,mBAAE7C,UAAUwC,KAAK,yBAAyBC,OAAS,uCAGzC,gBAAiB,CAACH,KAAMO,OAG1CnD,MAAMoD,KAAK,QAAQrD,UACXC,MAAM4C,QAAUzB,WACVnB,MAAM4C,KAAK1B,OAErB/B,KAAK8D,QAAS,sCACA,qDACA,uBAGlBjD,MAAMkC,GAAG,cAAemB,IACpBlE,KAAK8D,QAAS,EACVI,EAAInC,OACJlB,MAAM4C,KAAK1B,OAEXmC,GAAKlC,IAAMhC,KAAKZ,WAChByB,MAAM4C,KAAKzB,IAAMhC,KAAKZ,WAEtB8E,GAAKlC,MACLhC,KAAK+D,OAAQ,sCACC,sBAItBlD,MAAMkC,GAAG,SAAUiB,wCACD,iBAAkB,CAACG,MAAOH,OAG5CnD,MAAMkC,GAAG,sBAAuBiB,wCACd,sBAAuB,CAACI,KAAMJ,OAGhDnD,MAAMkC,GAAG,gBAAiBiB,wCACR,wBAAyB,CAACK,OAAQL,SAkB5DM,QAAS,SAASN,uCACA,iBAAkB,CAACG,MAAOH,SAI3CjD,OAAOC,IAgBRD,OAAOC,IAAIC,KAAKR,mBAhBH,KAETS,IAAMC,SAASC,cAAc,UACjCF,IAAIG,IAAM,kDACVH,IAAIN,OAAQ,EACZM,IAAII,GAAK,SACTJ,IAAIK,IAAM,cACNC,eAAiBL,SAASM,qBAAqB,UAAU,GAC7DD,eAAeE,WAAWC,aAAaT,IAAKM,oBACxCI,SAAWC,aAAY,KACnBd,OAAOC,MACPc,cAAcF,UACdb,OAAOC,IAAIC,KAAKR,kBAErB,MAUX+C,OACSxE,OAAOiB,KAAKP,QAGjBV,OAAOiB,KAAKP,MAAM8D,YACbM,QAAS,iBAST9E,OAAOiB,KAAKP,cAGXV,OAAOiB,KAAKP,MAAMgE,aACnBI,QAAS,GAOlBS,KAAKC,WACIxF,OAAOiB,KAAKP,QAGjBV,OAAOiB,KAAKP,MAAMgE,QAClB1E,OAAOiB,KAAKP,MAAM+D,KAAKe,YAQ3BC,KAAKhB,aACIzE,OAAOiB,KAAKP,OAGjBV,OAAOiB,KAAKP,MAAM+D,KAAKA,WAClBM,OAAQ,sCACC,gBAAiB,CAACN,KAAMA,OAC/BA,MALIA,KAYfiB,wBACS1F,OAAOiB,KAAKP,MAGVV,OAAOiB,KAAKP,MAAM+D,OAFd,EASfkB,qBACS3F,OAAOiB,KAAKP,MAGVV,OAAOiB,KAAKP,MAAMoB,WAFd,EASf8D,kBACS5F,OAAOiB,KAAKP,UAGbO,KAAK6D,QAG4B,WAA9B9E,OAAOiB,KAAKP,MAAMmF,SAO7BC,oBACS9F,OAAOiB,KAAKP,SAGbO,KAAK6D,QAG4B,YAA9B9E,OAAOiB,KAAKP,MAAMmF,SAO7BE,kBACS/F,OAAOiB,KAAKP,OAGVO,KAAK8D,MAShBd,eACSjE,OAAOiB,KAAKP,MAGVV,OAAOiB,KAAKP,MAAMsF,SAFd,GAAK,EAQpBC,UACSjG,OAAOiB,KAAKP,QAGjBV,OAAOiB,KAAKP,MAAM4C,SAClBtD,OAAOiB,KAAKP,MAAQ,yCACN,uBAOlBwF,kBACSlG,OAAOiB,KAAKP,MAGVV,OAAOiB,KAAKP,MAAMmF,QAFd,SASfM,QAAQf,MACCpF,OAAOiB,KAAKP,OAGjBV,OAAOiB,KAAKP,MAAM0F,aAAahB,MAKnCb,OACSvE,OAAOiB,KAAKP,OAGjBV,OAAOiB,KAAKP,MAAM6D,OAKtB8B,SACSrG,OAAOiB,KAAKP,QAGjBV,OAAOiB,KAAKP,MAAMmE,SAClB7E,OAAOiB,KAAKP,MAAM2E,OAAO,IAG7BiB,kBACStG,OAAOiB,KAAKP,OAGVV,OAAOiB,KAAKP,MAAM4F,UAO7BC,wBACWvG,OAAOiB,KAAKP,MAQvB8F,WAAWjG,gBACFP,OAAOiB,KAAKP,OAGjBV,OAAOiB,KAAKP,MAAM+F,aAAalG,6CACjB,yBAA0B,CAACA,QAASA,UAC3CA,SAJI,EAcfmG,sBACS1G,OAAOiB,KAAKP,MAGV,CACHiG,UAAW,CAAC,OAAQ,MAAO,MAAO,MAAO,OAAQ,QACjDC,eAAgB,CAAC,OAAQ,OAAQ,OAAQ,OAAQ,QAAS,MAC1DC,eAAoD,QAApC7G,OAAOiB,KAAKP,MAAM+F,eAA2B,EAAIzG,OAAOiB,KAAKP,MAAM+F,gBAL5E,KAafK,WAAWC,cACF/G,OAAOiB,KAAKP,MAGVqG,MAFI"}